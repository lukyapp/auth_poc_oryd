version: v0.13.0

dsn: ${DSN}

serve:
  public:
    base_url: http://localhost:4433/
#    cors:
#      enabled: true
#      allowed_origins:
#        - http://localhost:5173
  admin:
    base_url: http://kratos:4434/
#    cors:
#      enabled: true
#      allowed_origins:
#        - http://localhost:5173

selfservice:
  methods:
    password:
      enabled: true
    oidc:
      enabled: true
      config:
        providers:
          - id: google
            provider: google
#            client_id: ${SELFSERVICE_METHODS_OIDC_CONFIG_PROVIDERS_0_CLIENT_ID}
#            client_secret: ${SELFSERVICE_METHODS_OIDC_CONFIG_PROVIDERS_0_CLIENT_SECRET}
            mapper_url: file:///etc/config/kratos/mappers/google.jsonnet
            scope:
              - email
              - profile
  allowed_return_urls:
    - http://localhost:4444/
    - http://127.0.0.1:4444/

identity:
  default_schema_id: default
  schemas:
    - id: default
      url: file:///etc/config/kratos/identity.schema.json

oauth2_provider:
#  url: ${OAUTH2_PROVIDER_URL}
  override_return_to: true

#courier:
#  smtp:
#    connection_uri: smtps://user:pass@smtp.example.com:465/?skip_ssl_verify=true
#    from_address: "noreply@example.com"
#    provider: "noop"   # pas d'envoi r√©el (dev)
